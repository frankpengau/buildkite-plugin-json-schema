{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Buildkite Plugin Schema",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "name",
    "description",
    "author",
    "requirements",
    "configuration"
  ],
  "properties": {
    "name": {
      "type": "string",
      "description": "Name of the plugin. For example: 'Shellcheck'"
    },
    "description": {
      "type": "string",
      "description": "Description of what the plugin does. For example: 'Runs shellcheck on your shell scripts.'"
    },
    "author": {
      "type": "string",
      "description": "Contact information for the author. For example: 'https://github.com/person'"
    },
    "requirements": {
      "type": "array",
      "description": "Commands that are required to be present on the agent. For example: ['docker', 'docker-compose']",
      "items": {
        "type": "string"
      }
    },
    "configuration": {
      "type": "object",
      "description": "The JSON schema for the pluginâ€™s configuration options. See http://json-schema.org and https://jsonschemalint.com/",
      "required": ["properties"],
      "additionalProperties": false,
      "properties": {
        "properties": {
          "type": "object",
          "description": "A list of all plugin configuration properties.",
          "additionalProperties": true
        },
        "required": {
          "type": "array",
          "description": "A list of the required plugin configuration properties.",
          "items": {
            "type": "string"
          }
        },
        "additionalProperties": {
          "type": "boolean",
          "description": "Allow undefined properties. Recommended to be false, to help people catch typos."
        }
      }
    }
  }
}
